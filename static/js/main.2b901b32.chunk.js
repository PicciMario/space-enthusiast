(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,n){e.exports=n(55)},41:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(30),c=n.n(i),o=n(2),l=n(3),s=n(6),u=n(5),p=n(7),m=n(57),d=(n(41),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{padding:5,border:"1px solid black",borderRadius:5,marginBottom:2,cursor:"pointer",display:"flex"},onClick:this.props.onClick},r.a.createElement("div",{style:{flexGrow:1}},r.a.createElement("div",{style:{fontSize:"1em",wordBreak:"break-word"}},this.props.firstRow),r.a.createElement("div",{style:{fontSize:"0.8em",wordBreak:"break-word"}},this.props.secondRow)),r.a.createElement("div",{title:this.props.iconTooltip,style:{display:"flex",alignItems:"center",width:30,fontSize:"1.3em"}},this.props.icon))}}]),t}(r.a.Component));d.defaultProps={onClick:function(){}};var f=n(9);function h(e){var t="",n="";switch(e){case 1:t="thumbs-up",n="green";break;case 3:t="check",n="green";break;case 4:t="times",n="red";break;case 2:case 5:default:t="question-circle",n="#e0e007"}return r.a.createElement(f.a,{icon:t,color:n})}function v(e){var t=e.launch;return t?r.a.createElement(d,{firstRow:t.name,secondRow:t.net,icon:h(t.status)}):null}var y=n(31),g=n.n(y)()({basename:"/space-enthusiast"});function b(e){return r.a.createElement("div",{className:"header-bar"},r.a.createElement("div",{className:"header-bar-left",onClick:function(){return g.goBack()}},r.a.createElement(f.a,{icon:"chevron-left"})),r.a.createElement("div",{className:"header-bar-content"},e.title),r.a.createElement("div",{className:"header-bar-right",onClick:function(){return g.push("/about")}},r.a.createElement(f.a,{icon:"info"})))}var E=n(56);function k(e){return r.a.createElement(E.a,{to:e.to,className:"tab-bar-button"},r.a.createElement("div",null,r.a.createElement("span",{className:"tab-bar-button-icon"},r.a.createElement(f.a,{icon:e.icon})),r.a.createElement("span",{className:"tab-bar-button-title"},e.title)))}function O(e){return r.a.createElement("div",{className:"tab-bar"},r.a.createElement(k,{to:"/",title:"Home",icon:"rocket"}),r.a.createElement(k,{to:"/agencies",title:"Agencies",icon:"building"}),r.a.createElement(k,{to:"/rocketfamilies",title:"Rocket families",icon:"space-shuttle"}),r.a.createElement(k,{to:"/about",title:"About",icon:"info"}))}var j=n(11),R=n(26),w=n.n(R),C=n(33),S=new(function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"retrieveUrl",value:function(){var e=Object(C.a)(w.a.mark(function e(t){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Retrieve url: "+t),e.next=3,fetch(t).then(function(e){return e.json()}).then(function(e){return console.log("Terminata fetch di "+t,e),e});case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),e}()),A="https://launchlibrary.net/1.4";var D=function(e,t,n){return{type:"ADD_AGENCIES",payload:{agencies:e,lastRecordReceived:t,totalRecords:n}}},x=function(e){return{type:"ADD_AGENCY",payload:{agency:e}}},L=function(e){return{type:"ADD_AGENCY_TYPES",payload:{types:e}}};function N(e){return function(t,n){null==e&&0!==n().agencies.list.length||function(e){var t=new URL(A+"/agency");return t.searchParams.append("mode","list"),null!=e&&t.searchParams.append("offset",e),S.retrieveUrl(t)}(e).then(function(e){if(e&&e.agencies){var n=Number(e.offset)+Number(e.count),a=Number(e.total);t(D(e.agencies,n,a)),n<a&&t(N(n))}else console.error("No data.agencies in received payload",e)}).catch(function(e){console.error("Error while retrieving agencies",e)})}}var U=function(e){return{type:"ADD_UPCOMING_LAUNCHES",payload:{launches:e}}},_=function(e){return{type:"ADD_LAUNCH",payload:{launch:e}}},F=function(e){return{type:"ADD_LAUNCH_STATUSES",payload:{statuses:e}}};function T(e){return function(t,n){null==n().launches.details[e]&&function(e){var t=new URL(A+"/launch/"+e);return t.searchParams.append("mode","verbose"),S.retrieveUrl(t)}(e).then(function(e){e&&e.launches&&e.launches.length>0?t(_(e.launches[0])):console.error("No data.launches in received payload",e)}).catch(function(e){console.error("Error while retrieving launch",e)})}}var I=function(e,t,n){return{type:"ADD_ROCKET_FAMILIES",payload:{families:e,lastRecordReceived:t,totalRecords:n}}};function P(e){return function(t,n){0!==n().rockets.families.length&&null==e||function(e){var t=new URL(A+"/rocketfamily");return t.searchParams.append("mode","verbose"),null!=e&&t.searchParams.append("offset",e),S.retrieveUrl(t)}(e).then(function(e){if(e&&e.RocketFamilies){var n=Number(e.offset)+Number(e.count),a=Number(e.total);t(I(e.RocketFamilies,n,a)),n<a&&t(P(n))}else console.error("No data.RocketFamilies in received payload",e)}).catch(function(e){console.error("Error while retrieving upcoming launches",e)})}}var H=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onScroll=function(){var e=n.containerRef.scrollTop,t=n.props.keys[n.props.posKey];(null==t||Math.abs(e-t)>100)&&n.props.setKey(n.props.posKey,e)},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.posKey&&(this.containerRef&&null!=this.props.keys[this.props.posKey]&&setTimeout(function(){return e.containerRef.scrollTo(0,e.props.keys[e.props.posKey])}),this.scrollEventListened=this.containerRef.addEventListener("scroll",this.onScroll))}},{key:"componentWillUnmount",value:function(){this.containerRef.removeEventListener("scroll",this.onScroll)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{title:this.props.title}),this.props.fixedHeader&&r.a.createElement("div",{style:{marginLeft:5,marginRight:5,marginBottom:5}},this.props.fixedHeader),r.a.createElement("div",{className:"page-container",ref:function(t){return e.containerRef=t}},this.props.children),this.props.fixedFooter&&r.a.createElement("div",{style:{marginLeft:5,marginRight:5,marginTop:5}},this.props.fixedFooter),r.a.createElement(O,null))}}]),t}(r.a.Component),K=Object(j.b)(function(e){return{keys:e.keys}},{setKey:function(e,t){return{type:"SET_KEY",payload:{key:e,value:t}}}})(H),M=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.retrieveUpcomingLaunches()}},{key:"render",value:function(){var e=this,t=this.props.launches.upcoming;return r.a.createElement(K,{title:"Space Enthusiast"},r.a.createElement("h1",null,"Space Enthusiast"),r.a.createElement("h3",null,"Upcoming launches:"),t.map(function(t){return r.a.createElement("div",{onClick:function(){return e.props.history.push("/launch/"+t.id)},key:t.id},r.a.createElement(v,{launch:t}))}))}}]),t}(a.Component),G=Object(j.b)(function(e){return{launches:e.launches}},{retrieveUpcomingLaunches:function(){return function(e,t){0===t().launches.upcoming.length&&function(e){var t=new URL(A+"/launch");return t.searchParams.append("next",e),t.searchParams.append("mode","list"),S.retrieveUrl(t)}(10).then(function(t){t&&t.launches?e(U(t.launches)):console.error("No data.launches in received payload",t)}).catch(function(e){console.error("Error while retrieving upcoming launches",e)})}},retrieveLaunch:T})(M),Y=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={launches:[]},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(K,{title:"About"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h1",null,"Space Enthusiast"),r.a.createElement("h2",null,"A minimalist interface to the Launch Library"),r.a.createElement("h3",null,"Proudly built by me")))}}]),t}(a.Component),B=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.launchID;this.props.retrieveLaunch(e),this.props.retrieveLaunchStatuses()}},{key:"render",value:function(){var e=this.props.match.params.launchID,t=this.props.launches.details[e],n=null;if(t){var a=this.props.launches.statuses,i=t.name,c=t.lsp,o=t.net,l=t.status,s=t.rocket,u=t.location,p=t.missions;n=r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,i),r.a.createElement("div",null,"Provider: ",c.name),r.a.createElement("div",null,"NET: ",o),r.a.createElement("div",null,"Status: ",a[l]),r.a.createElement("div",null,"Rocket: ",s.name),r.a.createElement("div",null,"Location: ",u.name),r.a.createElement("div",null,"Pad: ",u.pads.map(function(e){return e.name})),p&&p.map(function(e,t){return r.a.createElement("div",{key:"mission"+t},r.a.createElement("span",{style:{fontWeight:"bold"}},e.name)," ",e.description)}),r.a.createElement("img",{src:s.imageURL,style:{width:"100%"},alt:i}))}else n=r.a.createElement("div",null,"Loading...");return r.a.createElement(K,{title:"Launch"},n)}}]),t}(r.a.Component),z=Object(j.b)(function(e){return{launches:e.launches}},{retrieveLaunch:T,retrieveLaunchStatuses:function(){return function(e,t){Object.keys(t().launches.statuses).length>0||function(){var e=new URL(A+"/launchstatus");return S.retrieveUrl(e)}().then(function(t){if(t&&t.types){var n={};t.types.forEach(function(e){return n[e.id]=e.name}),e(F(n))}else console.error("No data.types in received payload",t)}).catch(function(e){console.error("Error while retrieving agency types",e)})}}})(B);function W(e){var t=e.agency;return t?r.a.createElement(d,{firstRow:t.name,secondRow:t.countryCode,icon:1===t.islsp&&r.a.createElement(f.a,{icon:"rocket",alt:"launch provider"}),iconTooltip:"Is a launch provider.",onClick:function(){return g.push("/agency/"+t.id)}}):null}function J(e){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100%"}},r.a.createElement("span",{style:{fontSize:"2em",marginBottom:20}},"Loading..."),r.a.createElement(f.a,{icon:"rocket",size:"4x",spin:!0}))}var X=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).manageFilterChange=function(e){n.setState({filterString:e.target.value})},n.filterHeader=function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},"Filter:",r.a.createElement("input",{type:"text",value:n.state.filterString,onChange:n.manageFilterChange,style:{flexGrow:1,marginLeft:5}}),r.a.createElement("button",{onClick:function(){return n.setState({filterString:""})}},"\xd7"))},n.fixedFooter=function(){var e=n.props.agencies,t=e.totalRecords,a=e.lastRecordReceived;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",fontSize:"0.7em",color:"gray"}},"Total count: ",t," (loaded: ",a,")")},n.state={filterString:""},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.retrieveAgencies(),this.props.retrieveRocketFamilies()}},{key:"render",value:function(){var e=this.props.agencies.list,t=this.state.filterString,n=null;return n=0===e.length?r.a.createElement(J,null):e.filter(function(e){return 0===t.length||e.name.toUpperCase().includes(t.toUpperCase())||e.countryCode.toUpperCase().includes(t.toUpperCase())}).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(W,{agency:e}))}),r.a.createElement(K,{title:"Agencies",fixedHeader:this.filterHeader(),fixedFooter:this.fixedFooter(),posKey:"agenciesPos"},n)}}]),t}(a.Component),q=Object(j.b)(function(e){return{agencies:e.agencies}},{addAgencies:D,retrieveAgencies:N,retrieveRocketFamilies:P})(X),V=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.agencyID;this.props.retrieveAgency(e),this.props.retrieveAgencyTypes(),this.props.retrieveRocketFamilies()}},{key:"urlComponent",value:function(e){if(null==e||""===e)return null;var t=e,n=r.a.createElement(f.a,{icon:"link"});try{var a=new URL(e);/\.youtube\./.test(a.hostname)&&(n=r.a.createElement(f.a,{icon:["fab","youtube"]})),/\.wikipedia\./.test(a.hostname)&&(n=r.a.createElement(f.a,{icon:["fab","wikipedia-w"]})),/twitter\./.test(a.hostname)&&(n=r.a.createElement(f.a,{icon:["fab","twitter"]})),/\.facebook\./.test(a.hostname)&&(n=r.a.createElement(f.a,{icon:["fab","facebook"]})),/\.linkedin\./.test(a.hostname)&&(n=r.a.createElement(f.a,{icon:["fab","linkedin"]})),t=a.href}catch(i){console.warn("Invalid url: "+e)}return r.a.createElement("div",{key:e},r.a.createElement("a",{href:e,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",{style:{whiteSpace:"nowrap",display:"block",textOverflow:"ellipsis",overflow:"hidden",verticalAlign:"middle",lineHeight:"1.5em"}},r.a.createElement("span",{style:{float:"left",minWidth:25}},n),t)))}},{key:"render",value:function(){var e=this,t=this.props.match.params.agencyID,n=this.props.agencies.details[t],a=null,i=null;if(n){var c=n.name,o=n.abbrev,l=n.countryCode,s=n.islsp,u=n.type,p=n.wikiURL,m=n.changed,d=n.infoURLs,f=this.props.rockets.families.filter(function(e){return e.agencies&&e.agencies.find(function(e){return e.id===Number(t)})});a=r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,c),r.a.createElement("div",null,"Abbreviation: ",o),r.a.createElement("div",null,"Country: ",l),r.a.createElement("div",null,"Is launch provider: ",s),r.a.createElement("div",null,"Type: ",this.props.agencies.types[u]),this.urlComponent(p),d.map(function(t){return e.urlComponent(t)}),f.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"Rockets:"),r.a.createElement("ul",null,f.map(function(e){return r.a.createElement("li",{key:e.id},e.name)})))),i=r.a.createElement("div",null,"Last updated: ",m)}else a=r.a.createElement("div",null,"Loading...");return r.a.createElement(K,{title:"Agency",fixedFooter:i},a)}}]),t}(r.a.Component),$=Object(j.b)(function(e){return{agencies:e.agencies,rockets:e.rockets}},{retrieveAgency:function(e){return function(t,n){null==n().agencies.details[e]&&function(e){var t=new URL(A+"/agency/"+e);return t.searchParams.append("mode","verbose"),S.retrieveUrl(t)}(e).then(function(e){e&&e.agencies&&e.agencies.length>0?t(x(e.agencies[0])):console.error("No data.agencies in received payload",e)}).catch(function(e){console.error("Error while retrieving agencies",e)})}},retrieveAgencyTypes:function(){return function(e,t){Object.keys(t().agencies.types).length>0||function(){var e=new URL(A+"/agencytype");return S.retrieveUrl(e)}().then(function(t){if(t&&t.types){var n={};t.types.forEach(function(e){return n[e.id]=e.name}),e(L(n))}else console.error("No data.types in received payload",t)}).catch(function(e){console.error("Error while retrieving agency types",e)})}},retrieveRocketFamilies:P})(V);function Q(e){var t=e.family;return t?r.a.createElement(d,{onClick:function(){return g.push("/rocketfamily/"+t.id)},firstRow:t.name,secondRow:t.agencies&&t.agencies.map(function(e){return e.name}).join(", ")}):null}var Z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).manageFilterChange=function(e){n.setState({filterString:e.target.value})},n.filterHeader=function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},"Filter:",r.a.createElement("input",{type:"text",value:n.state.filterString,onChange:n.manageFilterChange,style:{flexGrow:1,marginLeft:5}}),r.a.createElement("button",{onClick:function(){return n.setState({filterString:""})}},"\xd7"))},n.fixedFooter=function(){var e=n.props.rockets,t=e.totalRecords,a=e.lastRecordReceived;return r.a.createElement("div",{style:{display:"flex",flexDirection:"row",fontSize:"0.7em",color:"gray"}},"Total count: ",t," (loaded: ",a,")")},n.state={filterString:""},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.retrieveRocketFamilies()}},{key:"render",value:function(){var e=this.props.rockets.families,t=this.state.filterString,n=null;return n=0===e.length?r.a.createElement(J,null):e.filter(function(e){return 0===t.length||e.name.toUpperCase().includes(t.toUpperCase())}).sort(function(e,t){return e.name.localeCompare(t.name)}).map(function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(Q,{family:e}))}),r.a.createElement(K,{title:"Rocket families",fixedHeader:this.filterHeader(),fixedFooter:this.fixedFooter(),posKey:"rocketFamiliesPos"},n)}}]),t}(a.Component),ee=Object(j.b)(function(e){return{rockets:e.rockets}},{addAgencies:D,retrieveAgencies:N,retrieveRocketFamilies:P})(Z),te=n(17),ne=n(12),ae=n(19);te.b.add(ne.d,ne.h,ne.c,ne.e,ne.a,ne.f,ne.i,ne.j,ne.g,ne.b,ne.k,ae.e,ae.d,ae.c,ae.a,ae.b),console.log(te.b);var re=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(m.a,{exact:!0,path:"/",component:G}),r.a.createElement(m.a,{exact:!0,path:"/about",component:Y}),r.a.createElement(m.a,{exact:!0,path:"/agencies",component:q}),r.a.createElement(m.a,{exact:!0,path:"/rocketfamilies",component:ee}),r.a.createElement(m.a,{path:"/agency/:agencyID",component:$}),r.a.createElement(m.a,{path:"/launch/:launchID",component:z}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ie=n(14),ce=n(13),oe=n(18),le=n(10),se={list:[],details:{},types:{},totalRecords:0,lastRecordReceived:0},ue={upcoming:[],details:{},statuses:{}},pe={families:[],totalRecords:0,lastRecordReceived:0},me={},de=Object(ie.c)({agencies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_AGENCIES":var n=t.payload,a=n.agencies,r=n.lastRecordReceived,i=n.totalRecords;return Object(le.a)({},e,{lastRecordReceived:r,totalRecords:i,list:[].concat(Object(oe.a)(e.list),Object(oe.a)(a))});case"ADD_AGENCY":var c=t.payload.agency;return Object(le.a)({},e,{details:Object(le.a)({},e.details,Object(ce.a)({},c.id,c))});case"ADD_AGENCY_TYPES":var o=t.payload.types;return Object(le.a)({},e,{types:o});default:return e}},launches:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_UPCOMING_LAUNCHES":var n=t.payload.launches;return Object(le.a)({},e,{upcoming:n});case"ADD_LAUNCH":var a=t.payload.launch;return Object(le.a)({},e,{details:Object(le.a)({},e.details,Object(ce.a)({},a.id,a))});case"ADD_LAUNCH_STATUSES":var r=t.payload.statuses;return Object(le.a)({},e,{statuses:r});default:return e}},rockets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ROCKET_FAMILIES":var n=t.payload,a=n.families,r=n.lastRecordReceived,i=n.totalRecords;return Object(le.a)({},e,{families:[].concat(Object(oe.a)(e.families),Object(oe.a)(a)),totalRecords:i,lastRecordReceived:r});default:return e}},keys:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_KEY":var n=t.payload,a=n.key,r=n.value;return Object(le.a)({},e,Object(ce.a)({},a,r));case"RESET_KEY":var i=t.payload.key,c=Object(le.a)({},e);return delete c[i],c;default:return e}}}),fe=n(35),he=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.d,ve=Object(ie.e)(de,he(Object(ie.a)(fe.a))),ye=n(58);c.a.render(r.a.createElement(j.a,{store:ve},r.a.createElement(ye.a,{history:g},r.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.2b901b32.chunk.js.map